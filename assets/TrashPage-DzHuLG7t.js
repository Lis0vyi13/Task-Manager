import{r,A,j as t,Q as g,k as y,d as D,f as b,o as w,S as $,L as C,t as Q}from"./index-D_pLHn6N.js";import{u as S}from"./useSearch-BbYk5igb.js";import{a as v,u as B,m as f}from"./useTaskDetailHandler-CYbe7STf.js";import{Q as I}from"./index-4a46P04U.js";import{S as k,P as E}from"./index-CFBtlz7A.js";const L=({tasks:c,titles:a})=>{const[d,h]=r.useState(!0),[_,u]=r.useState(null),[n,l,x]=A({setItem:()=>{}}),m=S(),i=r.useMemo(()=>{h(!0);const N=c.filter(p=>p.isTrashed),M=m?N.filter(p=>{var T;return(T=p==null?void 0:p.title)==null?void 0:T.toLowerCase().includes(m.toLowerCase())}):N;return h(!1),M},[m,c]),j=v(),s=r.useMemo(()=>({titles:a,navigate:j,filteredTask:i}),[a,j,i]);return{filteredTask:i,isLoading:d,tableData:s,modalType:_,setModalType:u,isQuestionModalOpen:n,openQuestionModal:l,closeQuestionModal:x}},R="_table_otgs6_1",V="_thead_otgs6_7",P="_tbody_otgs6_16",W="_tr_otgs6_21",z="_th_otgs6_7",O="_td_otgs6_60",q="_capitalize_otgs6_79",F="_title_otgs6_102",Y="_avatar_otgs6_107",H="_team_otgs6_117",J="_info_otgs6_123",U="_status_otgs6_129",G="_actions_otgs6_137",K="_editBtn_otgs6_143",X="_deleteBtn_otgs6_154",Z="_titleWrapper_otgs6_165",tt="_actionIcon_otgs6_176",et="_restore_otgs6_181",e={table:R,thead:V,tbody:P,tr:W,th:z,td:O,capitalize:q,title:F,avatar:Y,team:H,info:J,status:U,actions:G,editBtn:K,deleteBtn:X,titleWrapper:Z,actionIcon:tt,restore:et,delete:"_delete_otgs6_154"},st={restore:{text:"Are you sure you want to restore current task?",type:"restore",submitButtonText:"Restore"},delete:{text:"Are you sure you want to delete current task?",type:"delete",submitButtonText:"Delete"}},ot=({titles:c,filteredTask:a,navigate:d})=>{const h=r.useCallback(s=>d(s),[d]),{isDesktop:_}=B(),[u,n]=r.useState(null),[l,x]=r.useState(null),[m,i,j]=A({setItem:x});return t.jsxs("table",{className:e.table,children:[t.jsx("thead",{className:e.thead,children:t.jsx("tr",{className:e.tr,children:_?c.map(s=>t.jsx("th",{className:`${e.th}`,children:s},s)):t.jsx("th",{className:e.th,children:c[0]})})}),t.jsx("tbody",{className:e.tbody,children:a.map(s=>t.jsxs("tr",{className:e.tr,children:[t.jsxs("td",{onClick:()=>h(s._id),className:`${e.td} ${e.titleWrapper}`,children:[t.jsx(k,{stage:s.stage}),t.jsx("h1",{className:e.title,children:s.title})]}),_?t.jsxs(t.Fragment,{children:[t.jsx("td",{className:e.td,children:t.jsx(E,{withAddition:!0,priority:s.priority})}),t.jsx("td",{className:e.td,children:t.jsx("p",{children:s.stage})}),t.jsx("td",{className:e.td,children:t.jsx("p",{children:new Date(s.updatedAt).toDateString()})}),t.jsxs("td",{className:`${e.actions} ${e.td} `,children:[t.jsx(g,{onClick:()=>{i(s),n("restore")},title:"Restore",className:`${e.restore} ${e.actionIcon}`}),t.jsx(y,{onClick:()=>{i(s),n("delete")},title:"Delete",className:`${e.delete} ${e.actionIcon}`})]})]}):t.jsxs("td",{className:`${e.actions} ${e.td} `,children:[t.jsx(g,{onClick:()=>{i(s),n("restore")},title:"Restore",className:`${e.restore} ${e.actionIcon}`}),t.jsx(y,{onClick:()=>{i(s),n("delete")},title:"Delete",className:`${e.delete} ${e.actionIcon}`})]}),m&&(l==null?void 0:l._id)===s._id&&D.createPortal(t.jsx(I,{changedValue:m,onClose:j,task:l,...st[u]}),document.body)]},s._id))})]})},at="_listView_2l9h4_1",nt="_notEmpty_2l9h4_6",lt="_header_2l9h4_16",it="_trashActions_2l9h4_25",ct="_trashAction_2l9h4_25",rt="_actionIcon_2l9h4_49",dt="_actionText_2l9h4_54",ht="_deleteIcon_2l9h4_64",o={listView:at,notEmpty:nt,header:lt,trashActions:it,trashAction:ct,actionIcon:rt,actionText:dt,deleteIcon:ht},_t=["Full Name","Priority","Stage","Modified on"],ut={restoreAll:{text:"Are you sure you want to restore all the tasks?",type:"restore",submitButtonText:"Restore all"},deleteAll:{text:"Are you sure you want to delete all the tasks?",type:"delete",submitButtonText:"Delete all"}},mt=({tasks:c})=>{const{filteredTask:a,isLoading:d,tableData:h,modalType:_,setModalType:u,isQuestionModalOpen:n,openQuestionModal:l,closeQuestionModal:x}=L({tasks:c,titles:_t});return t.jsxs("section",{className:o.trash,children:[t.jsxs(f.header,{className:o.header,initial:"hidden",animate:"visible",variants:b,children:[t.jsx(w,{children:"Trash"}),t.jsxs("div",{className:o.trashActions,children:[t.jsxs("div",{onClick:()=>{a.length>0?(l(),u("restoreAll")):$.warning("You can't restore tasks because of trash is empty!")},className:o.trashAction,children:[t.jsx(g,{className:o.actionIcon}),t.jsx("p",{className:o.actionText,children:"Restore all"})]}),t.jsxs("div",{onClick:()=>{a.length>0?(l(),u("deleteAll")):$.warning("You can't delete tasks because of trash is empty!")},className:`${o.trashAction} ${o.deleteIcon}`,children:[t.jsx(y,{className:o.actionIcon}),t.jsx("p",{className:o.actionText,children:"Delete all"})]})]}),n&&t.jsx(I,{changedValue:n,onClose:x,...ut[_]})]}),t.jsx(f.section,{initial:"hidden",animate:"visible",variants:b,className:`${o.listView} ${a.length>0?o.notEmpty:""}`,children:d?t.jsx(C,{}):a.length>0?t.jsx(ot,{...h}):"Trash is empty"})]})},Nt=()=>t.jsx("section",{className:"trash",children:t.jsx(mt,{tasks:Q})});export{Nt as default};
