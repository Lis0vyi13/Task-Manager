import{r as t,j as s,L as h,l as u,n as j,f as x,T as _,R as b,F as g,o as f,B as v,t as N}from"./index-BX26S4WO.js";import{a as w}from"./index-CraaxDu5.js";import{T as C}from"./index-CdoQ4bxa.js";import{u as M,T as V,L as E}from"./index-DGW9_ht0.js";import{m as T}from"./useTaskDetailHandler-C-VvlUC1.js";import"./index-CVn_QiJ2.js";import"./index-DCTuSknW.js";import"./transformToInputDateType-lL7WdnI8.js";import"./index-B18fTKX9.js";import"./index-uQ3NiPyg.js";import"./useSearch-Ctm0nVG3.js";const y="_stage_1nfip_1",L="_hide_1nfip_5",S="_content_1nfip_26",k={stage:y,hide:L,content:S},A=t.memo(({stage:e,tasks:r,isExpand:a})=>{const{isLoading:i,filteredTasks:n}=M({stage:e,tasks:r});return s.jsx("article",{className:`${k.stage} ${a?"":k.hide}`,children:s.jsx("div",{className:k.content,children:i?s.jsx(h,{}):n.map(o=>s.jsx(V,{task:o},o._id))})})}),$="_tasksTitle_1a1kr_1",B="_circle_1a1kr_20",H="_title_1a1kr_26",I="_icon_1a1kr_30",m={tasksTitle:$,circle:B,title:H,icon:I},F=t.memo(({color:e,name:r,handler:a,isExpand:i})=>s.jsxs("button",{onClick:a,className:m.tasksTitle,children:[s.jsx("div",{style:{backgroundColor:e},className:m.circle}),s.jsx("p",{className:m.title,children:r}),i?s.jsx(u,{className:m.icon}):s.jsx(j,{className:m.icon})]})),R="_boardView_1hmbk_1",O={boardView:R},P=()=>{const e=t.useMemo(()=>["todo","in progress","completed"],[]),r=t.useMemo(()=>e.map(()=>!0),[e]),[a,i]=t.useState(r),n=t.useCallback(o=>{i(c=>c.map((d,p)=>p===o?!d:d))},[]);return{stages:e,isExpandArray:a,setIsExpandArray:i,onTitleClickHandler:n}},z=[{name:"To do",stage:"todo",color:_.todo},{name:"In progress",stage:"in progress",color:_["in progress"]},{name:"Completed",stage:"completed",color:_.completed}],D=({tasks:e})=>{const{stages:r,isExpandArray:a,onTitleClickHandler:i}=P();return s.jsx("section",{className:O.boardView,children:r.map((n,o)=>s.jsxs(T.div,{initial:"hidden",whileInView:"visible",variants:x,viewport:{once:!0},children:[z.filter(c=>c.stage===n).map(c=>t.createElement(F,{isExpand:a[o],handler:()=>i(o),...c,key:c.name})),s.jsx(A,{isExpand:a[o],stage:n,tasks:e})]},n))})},K="_header_ti316_1",U="_button_ti316_10",W="_tasksTitles_ti316_21",Y="_addTaskModal_ti316_38",q="_hidden_ti316_44",l={header:K,button:U,tasksTitles:W,addTaskModal:Y,hidden:q},G=()=>{const[e,r]=t.useState(1),[a,i]=t.useState(!1),n=t.useMemo(()=>[{id:1,title:"Board view",icon:s.jsx(b,{}),Component:D},{id:2,title:"List view",icon:s.jsx(g,{}),Component:E}],[]),o=t.useMemo(()=>{var d;return(d=n.find(p=>p.id===e))==null?void 0:d.Component},[e,n]),c=t.useCallback(()=>{},[]);return s.jsxs("section",{className:l.tasksWrapper,children:[s.jsxs(T.header,{className:l.header,initial:"hidden",animate:"visible",variants:x,children:[s.jsx(f,{children:"Tasks"}),s.jsx(v,{onClick:()=>i(!0),className:l.button,children:"+ Create task"})]}),s.jsx(w,{changedValue:a,className:`${a?"":l.hidden} ${l.addTaskModal}`,onSubmit:c,onClose:()=>i(!1)}),s.jsxs(T.main,{className:l.main,initial:"hidden",animate:"visible",variants:x,children:[s.jsx(C,{activeTab:e,setActiveTab:r,data:n}),s.jsx("div",{className:l.tasks,children:o?s.jsx(o,{tasks:N}):null})]})]})},rs=()=>s.jsx("section",{className:"tasks",children:s.jsx(G,{})});export{rs as default};
