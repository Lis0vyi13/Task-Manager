import{r as a,j as s,L as h,l as u,n as j,f as x,T as _,R as b,F as g,o as f,B as v,t as N}from"./index-C4BvmKIC.js";import{a as w}from"./index-DFvQ0ZEc.js";import{T as C}from"./index-BAkRNelJ.js";import{u as M,T as V,L as E}from"./index-CSZud6zk.js";import{m as T}from"./index-BM1N_-Y_.js";import"./transformToInputDateType-Bu6lzGtH.js";import"./index-CbgXpp_J.js";import"./index-C0IukqqV.js";import"./useSearch-CGeVfClh.js";const y="_stage_1nfip_1",L="_hide_1nfip_5",S="_content_1nfip_26",k={stage:y,hide:L,content:S},A=a.memo(({stage:e,tasks:r,isExpand:t})=>{const{isLoading:n,filteredTasks:i}=M({stage:e,tasks:r});return s.jsx("article",{className:`${k.stage} ${t?"":k.hide}`,children:s.jsx("div",{className:k.content,children:n?s.jsx(h,{}):i.map(o=>s.jsx(V,{task:o},o._id))})})}),$="_tasksTitle_1a1kr_1",B="_circle_1a1kr_20",H="_title_1a1kr_26",I="_icon_1a1kr_30",m={tasksTitle:$,circle:B,title:H,icon:I},F=a.memo(({color:e,name:r,handler:t,isExpand:n})=>s.jsxs("button",{onClick:t,className:m.tasksTitle,children:[s.jsx("div",{style:{backgroundColor:e},className:m.circle}),s.jsx("p",{className:m.title,children:r}),n?s.jsx(u,{className:m.icon}):s.jsx(j,{className:m.icon})]})),R="_boardView_1hmbk_1",O={boardView:R},P=()=>{const e=a.useMemo(()=>["todo","in progress","completed"],[]),r=a.useMemo(()=>e.map(()=>!0),[e]),[t,n]=a.useState(r),i=a.useCallback(o=>{n(c=>c.map((d,p)=>p===o?!d:d))},[]);return{stages:e,isExpandArray:t,setIsExpandArray:n,onTitleClickHandler:i}},z=[{name:"To do",stage:"todo",color:_.todo},{name:"In progress",stage:"in progress",color:_["in progress"]},{name:"Completed",stage:"completed",color:_.completed}],D=({tasks:e})=>{const{stages:r,isExpandArray:t,onTitleClickHandler:n}=P();return s.jsx("section",{className:O.boardView,children:r.map((i,o)=>s.jsxs(T.div,{initial:"hidden",whileInView:"visible",variants:x,viewport:{once:!0},children:[z.filter(c=>c.stage===i).map(c=>a.createElement(F,{isExpand:t[o],handler:()=>n(o),...c,key:c.name})),s.jsx(A,{isExpand:t[o],stage:i,tasks:e})]},i))})},K="_header_ti316_1",U="_button_ti316_10",W="_tasksTitles_ti316_21",Y="_addTaskModal_ti316_38",q="_hidden_ti316_44",l={header:K,button:U,tasksTitles:W,addTaskModal:Y,hidden:q},G=()=>{const[e,r]=a.useState(1),[t,n]=a.useState(!1),i=a.useMemo(()=>[{id:1,title:"Board view",icon:s.jsx(b,{}),Component:D},{id:2,title:"List view",icon:s.jsx(g,{}),Component:E}],[]),o=a.useMemo(()=>{var d;return(d=i.find(p=>p.id===e))==null?void 0:d.Component},[e,i]),c=a.useCallback(()=>{},[]);return s.jsxs("section",{className:l.tasksWrapper,children:[s.jsxs(T.header,{className:l.header,initial:"hidden",animate:"visible",variants:x,children:[s.jsx(f,{children:"Tasks"}),s.jsx(v,{onClick:()=>n(!0),className:l.button,children:"+ Create task"})]}),s.jsx(w,{changedValue:t,className:`${t?"":l.hidden} ${l.addTaskModal}`,onSubmit:c,onClose:()=>n(!1)}),s.jsxs(T.main,{className:l.main,initial:"hidden",animate:"visible",variants:x,children:[s.jsx(C,{activeTab:e,setActiveTab:r,data:i}),s.jsx("div",{className:l.tasks,children:o?s.jsx(o,{tasks:N}):null})]})]})},is=()=>s.jsx("section",{className:"tasks",children:s.jsx(G,{})});export{is as default};
