import{r as t,j as s,L as h,M as u,k as j,f as x,T as k,R as b,F as f,B as g,t as v}from"./index-BUlJw_Qc.js";import{T as M}from"./index-DwIwvJAb.js";import{a as N}from"./index-DVQa4QzV.js";import{T as w}from"./index-1eF7YVW7.js";import{u as C,T as V,L as E}from"./index-D4zZsfxV.js";import{m as T}from"./index-DR0zWF9G.js";import"./useTaskDetailHandler-BkDiA-iM.js";import"./transformToInputDateType-DdZGQ-re.js";import"./index-DDxf7fJK.js";import"./index-BrW_zbsf.js";import"./useSearch-BK8cORB_.js";const y="_stage_1nfip_1",L="_hide_1nfip_5",S="_content_1nfip_26",_={stage:y,hide:L,content:S},A=t.memo(({stage:e,tasks:r,isExpand:a})=>{const{isLoading:i,filteredTasks:n}=C({stage:e,tasks:r});return s.jsx("article",{className:`${_.stage} ${a?"":_.hide}`,children:s.jsx("div",{className:_.content,children:i?s.jsx(h,{}):n.map(o=>s.jsx(V,{task:o},o._id))})})}),$="_tasksTitle_1a1kr_1",B="_circle_1a1kr_20",H="_title_1a1kr_26",I="_icon_1a1kr_30",m={tasksTitle:$,circle:B,title:H,icon:I},F=t.memo(({color:e,name:r,handler:a,isExpand:i})=>s.jsxs("button",{onClick:a,className:m.tasksTitle,children:[s.jsx("div",{style:{backgroundColor:e},className:m.circle}),s.jsx("p",{className:m.title,children:r}),i?s.jsx(u,{className:m.icon}):s.jsx(j,{className:m.icon})]})),R="_boardView_1hmbk_1",O={boardView:R},P=()=>{const e=t.useMemo(()=>["todo","in progress","completed"],[]),r=t.useMemo(()=>e.map(()=>!0),[e]),[a,i]=t.useState(r),n=t.useCallback(o=>{i(c=>c.map((d,p)=>p===o?!d:d))},[]);return{stages:e,isExpandArray:a,setIsExpandArray:i,onTitleClickHandler:n}},z=[{name:"To do",stage:"todo",color:k.todo},{name:"In progress",stage:"in progress",color:k["in progress"]},{name:"Completed",stage:"completed",color:k.completed}],D=({tasks:e})=>{const{stages:r,isExpandArray:a,onTitleClickHandler:i}=P();return s.jsx("section",{className:O.boardView,children:r.map((n,o)=>s.jsxs(T.div,{initial:"hidden",whileInView:"visible",variants:x,viewport:{once:!0},children:[z.filter(c=>c.stage===n).map(c=>t.createElement(F,{isExpand:a[o],handler:()=>i(o),...c,key:c.name})),s.jsx(A,{isExpand:a[o],stage:n,tasks:e})]},n))})},K="_header_ti316_1",U="_button_ti316_10",W="_tasksTitles_ti316_21",Y="_addTaskModal_ti316_38",q="_hidden_ti316_44",l={header:K,button:U,tasksTitles:W,addTaskModal:Y,hidden:q},G=()=>{const[e,r]=t.useState(1),[a,i]=t.useState(!1),n=t.useMemo(()=>[{id:1,title:"Board view",icon:s.jsx(b,{}),Component:D},{id:2,title:"List view",icon:s.jsx(f,{}),Component:E}],[]),o=t.useMemo(()=>{var d;return(d=n.find(p=>p.id===e))==null?void 0:d.Component},[e,n]),c=t.useCallback(()=>{},[]);return s.jsxs("section",{className:l.tasksWrapper,children:[s.jsxs(T.header,{className:l.header,initial:"hidden",animate:"visible",variants:x,children:[s.jsx(M,{children:"Tasks"}),s.jsx(g,{onClick:()=>i(!0),className:l.button,children:"+ Create task"})]}),s.jsx(N,{changedValue:a,className:`${a?"":l.hidden} ${l.addTaskModal}`,onSubmit:c,onClose:()=>i(!1)}),s.jsxs(T.main,{className:l.main,initial:"hidden",animate:"visible",variants:x,children:[s.jsx(w,{activeTab:e,setActiveTab:r,data:n}),s.jsx("div",{className:l.tasks,children:o?s.jsx(o,{tasks:v}):null})]})]})},rs=()=>s.jsx("section",{className:"tasks",children:s.jsx(G,{})});export{rs as default};
