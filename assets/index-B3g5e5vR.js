import{r as c,j as e,y as x,L as p,w as j,x as T,o as h,I as i,z as _}from"./index-D_pLHn6N.js";import{t as y}from"./transformToInputDateType-DiPkNHw2.js";const f="_overlay_1c19u_1",S="_modal_1c19u_14",C="_image_1c19u_18",u={overlay:f,modal:S,image:C},M=({src:l,alt:d,changedValue:a,onClose:n})=>{const[t,s]=c.useState(!0),o=()=>{s(!1)};return c.useEffect(()=>{s(!0)},[l]),e.jsx(x,{changedValue:a,onClose:n,children:e.jsxs("div",{className:u.modal,onClick:r=>r.stopPropagation(),children:[e.jsx("img",{className:u.image,src:l,alt:d,onLoad:o,style:{display:t?"none":"block"}}),t&&e.jsx(p,{})]})})},I="_dateTagBlock_5ucbp_1",B={dateTagBlock:I},N=({changedValue:l,onClose:d,subtask:a})=>{const n={title:(a==null?void 0:a.title)||"",date:a!=null&&a.date?y(a.date):"",tag:(a==null?void 0:a.tag)||""},{handleSubmit:t,reset:s,control:o}=j({mode:"onChange",defaultValues:n}),{onSubmitHandler:r,onCloseHandler:m}=T({onClose:d,reset:s}),g=c.useCallback(()=>{},[]);return e.jsx(x,{changedValue:l,noCross:!0,onSubmit:g,onClose:m,children:e.jsx("section",{className:"modalWrapper",children:e.jsxs("form",{onSubmit:t(r),children:[e.jsx(h,{className:"modalTitle",children:"Add subtask"}),e.jsx(i,{name:"title",control:o,label:"Title",rules:{required:"Title is required"},placeholder:"Subtask title"}),e.jsxs("div",{className:B.dateTagBlock,children:[e.jsx(i,{name:"date",control:o,label:"Task date",type:"date",placeholder:"Date...",rules:{required:"Date is required"}}),e.jsx(i,{name:"tag",placeholder:"Tag",control:o,label:"Tag"})]}),e.jsx(_,{onSubmit:g,submitButtonText:"Add Task",onClose:m})]})})})};export{M as I,N as S};
