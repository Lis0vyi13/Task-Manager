import{r,w as b,x,j as a,y as j,o as A,I as o,z as h}from"./index-CrHAFnCA.js";import{t as u}from"./transformToInputDateType-9qsVDyqT.js";import{S as v}from"./index-CQcgwu5x.js";const m=[{value:!0,label:"Active"},{value:!1,label:"Disabled"}],S=({user:e})=>{const t=r.useMemo(()=>({name:(e==null?void 0:e.name)||"",role:(e==null?void 0:e.role)||"",email:(e==null?void 0:e.email)||"",status:(e==null?void 0:e.isActive)!==""?m==null?void 0:m.find(l=>l.value===e.isActive):"",createdAt:e!=null&&e.createdAt?u(e.createdAt):""}),[e.createdAt,e==null?void 0:e.email,e.isActive,e==null?void 0:e.name,e==null?void 0:e.role]),{handleSubmit:d,reset:n,control:s}=b({mode:"onChange",defaultValues:t}),i=r.useCallback(()=>{},[]);return{handleSubmit:d,reset:n,onSubmit:i,control:s,selectStatusOptions:m}},F=r.memo(({user:e,onClose:t,changedValue:d})=>{const{handleSubmit:n,reset:s,onSubmit:i,control:l,selectStatusOptions:c}=S({user:e}),{onSubmitHandler:p}=x({onClose:t,reset:s});return a.jsx(j,{onSubmit:i,onClose:t,changedValue:d,noCross:!0,children:a.jsxs("section",{className:"modalWrapper",children:[a.jsx(A,{className:"modalTitle",children:"Edit user"}),a.jsxs("form",{onSubmit:n(p),children:[a.jsx(o,{disabled:!0,name:"name",control:l,label:"Full name",rules:{required:"Full name is required!"},placeholder:"Your full name"}),a.jsx(o,{name:"role",control:l,label:"Role",rules:{required:"Role is required!"},placeholder:"User role"}),a.jsx(o,{name:"email",control:l,label:"Email",rules:{required:{value:!0,message:"Email is required"},pattern:{value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,message:"Invalid email address"}},placeholder:"example@gmail.com",type:"email",autoComplete:"email"}),a.jsx(v,{name:"status",control:l,label:"Status",rules:{required:"User status"},placeholder:"Status...",options:c}),a.jsx(o,{disabled:!0,name:"createdAt",control:l,label:"Created at",type:"date",rules:{required:"Date is required"}}),a.jsx(h,{onSubmit:i,onClose:t})]})]})})});export{F as E};
