import{r as a,j as s,L as h,n as u,o as j,f as x,T as _,R as b,F as g,q as f,B as v,t as N}from"./index-d2EGw5oL.js";import{a as w}from"./index-VSNq4Tb6.js";import{T as C}from"./index-vKTnyyRP.js";import{u as M,T as V,L as E}from"./index-BdBOHNGE.js";import{m as T}from"./useTaskDetailHandler-BR0vCfsk.js";import"./index-B37HlN2s.js";import"./index-sjEg0t_o.js";import"./transformToInputDateType-DWvk148s.js";import"./index-DdazTpp9.js";import"./index-BYW5mdP-.js";import"./useSearch-BJP6Z1JU.js";const y="_stage_fqemj_1",L="_hide_fqemj_6",S="_content_fqemj_28",k={stage:y,hide:L,content:S},A=a.memo(({stage:e,tasks:c,isExpand:t})=>{const{isLoading:i,filteredTasks:n}=M({stage:e,tasks:c});return s.jsx("article",{className:`${k.stage} ${t?"":k.hide}`,children:s.jsx("div",{className:k.content,children:i?s.jsx(h,{}):n.map(o=>s.jsx(V,{task:o},o._id))})})}),$="_tasksTitle_16a62_1",B="_circle_16a62_20",q="_title_16a62_26",H="_icon_16a62_30",m={tasksTitle:$,circle:B,title:q,icon:H},I=a.memo(({color:e,name:c,handler:t,isExpand:i})=>s.jsxs("button",{onClick:t,className:m.tasksTitle,children:[s.jsx("div",{style:{backgroundColor:e},className:m.circle}),s.jsx("p",{className:m.title,children:c}),i?s.jsx(u,{className:m.icon}):s.jsx(j,{className:m.icon})]})),F="_boardView_1hmbk_1",R={boardView:F},O=()=>{const e=a.useMemo(()=>["todo","in progress","completed"],[]),c=a.useMemo(()=>e.map(()=>!0),[e]),[t,i]=a.useState(c),n=a.useCallback(o=>{i(r=>r.map((d,p)=>p===o?!d:d))},[]);return{stages:e,isExpandArray:t,setIsExpandArray:i,onTitleClickHandler:n}},P=[{name:"To do",stage:"todo",color:_.todo},{name:"In progress",stage:"in progress",color:_["in progress"]},{name:"Completed",stage:"completed",color:_.completed}],z=({tasks:e})=>{const{stages:c,isExpandArray:t,onTitleClickHandler:i}=O();return s.jsx("section",{className:R.boardView,children:c.map((n,o)=>s.jsxs(T.div,{initial:"hidden",whileInView:"visible",variants:x,viewport:{once:!0},children:[P.filter(r=>r.stage===n).map(r=>a.createElement(I,{isExpand:t[o],handler:()=>i(o),...r,key:r.name})),s.jsx(A,{isExpand:t[o],stage:n,tasks:e})]},n))})},D="_header_ti316_1",K="_button_ti316_10",U="_tasksTitles_ti316_21",W="_addTaskModal_ti316_38",Y="_hidden_ti316_44",l={header:D,button:K,tasksTitles:U,addTaskModal:W,hidden:Y},G=()=>{const[e,c]=a.useState(1),[t,i]=a.useState(!1),n=a.useMemo(()=>[{id:1,title:"Board view",icon:s.jsx(b,{}),Component:z},{id:2,title:"List view",icon:s.jsx(g,{}),Component:E}],[]),o=a.useMemo(()=>{var d;return(d=n.find(p=>p.id===e))==null?void 0:d.Component},[e,n]),r=a.useCallback(()=>{},[]);return s.jsxs("section",{className:l.tasksWrapper,children:[s.jsxs(T.header,{className:l.header,initial:"hidden",animate:"visible",variants:x,children:[s.jsx(f,{children:"Tasks"}),s.jsx(v,{onClick:()=>i(!0),className:l.button,children:"+ Create task"})]}),t&&s.jsx(w,{changedValue:t,className:`${t?"":l.hidden} ${l.addTaskModal}`,onSubmit:r,onClose:()=>i(!1)}),s.jsxs(T.main,{className:l.main,initial:"hidden",animate:"visible",variants:x,children:[s.jsx(C,{activeTab:e,setActiveTab:c,data:n}),s.jsx("div",{className:l.tasks,children:o?s.jsx(o,{tasks:N}):null})]})]})},cs=()=>s.jsx("section",{className:"tasks",children:s.jsx(G,{})});export{cs as default};
