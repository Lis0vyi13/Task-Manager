import{r as c,j as e,y as p,L as u,w as j,x as T,o as h,I as i,z as _}from"./index-CrHAFnCA.js";import{t as y}from"./transformToInputDateType-9qsVDyqT.js";const f="_overlay_n6wqe_1",S="_modal_n6wqe_14",q="_image_n6wqe_21",x={overlay:f,modal:S,image:q},v=({src:l,alt:n,changedValue:a,onClose:d})=>{const[t,s]=c.useState(!0),o=()=>{s(!1)};return c.useEffect(()=>{s(!0)},[l]),e.jsx(p,{changedValue:a,onClose:d,children:e.jsxs("div",{className:x.modal,onClick:r=>r.stopPropagation(),children:[e.jsx("img",{className:x.image,src:l,alt:n,onLoad:o,style:{display:t?"none":"block"}}),t&&e.jsx(u,{})]})})},C="_dateTagBlock_5ucbp_1",I={dateTagBlock:C},M=({changedValue:l,onClose:n,subtask:a})=>{const d={title:(a==null?void 0:a.title)||"",date:a!=null&&a.date?y(a.date):"",tag:(a==null?void 0:a.tag)||""},{handleSubmit:t,reset:s,control:o}=j({mode:"onChange",defaultValues:d}),{onSubmitHandler:r,onCloseHandler:m}=T({onClose:n,reset:s}),g=c.useCallback(()=>{},[]);return e.jsx(p,{changedValue:l,noCross:!0,onSubmit:g,onClose:m,children:e.jsx("section",{className:"modalWrapper",children:e.jsxs("form",{onSubmit:t(r),children:[e.jsx(h,{className:"modalTitle",children:"Add subtask"}),e.jsx(i,{name:"title",control:o,label:"Title",rules:{required:"Title is required"},placeholder:"Subtask title"}),e.jsxs("div",{className:I.dateTagBlock,children:[e.jsx(i,{name:"date",control:o,label:"Task date",type:"date",placeholder:"Date...",rules:{required:"Date is required"}}),e.jsx(i,{name:"tag",placeholder:"Tag",control:o,label:"Tag"})]}),e.jsx(_,{onSubmit:g,submitButtonText:"Add Task",onClose:m})]})})})};export{v as I,M as S};
