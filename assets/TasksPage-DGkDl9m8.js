import{r as i,j as s,M as u,i as T,f as k,T as m,R as j,F as b,B as g,t as v}from"./index-Ct6s7zlp.js";import{T as N}from"./index-Dq0JXmXa.js";import{T as w}from"./index-o-HOWc6q.js";import{T as f,L as E}from"./index-CdCRWd5u.js";import{m as x}from"./motion-BNmSCWys.js";import"./useTaskDetailHandler-C_6aCI0U.js";import"./index-lO-jDOlX.js";import"./index-CiVxopWN.js";const C="_stage_nglkk_1",y="_hide_nglkk_10",V="_content_nglkk_31",p={stage:C,hide:y,content:V},M=i.memo(({stage:e,tasks:o,isExpand:a})=>{const n=i.useMemo(()=>o.filter(t=>t.stage===e),[e,o]);return s.jsx("article",{className:`${p.stage} ${a?"":p.hide}`,children:s.jsx("div",{className:p.content,children:n.map(t=>i.createElement(f,{...t,key:t._id}))})})}),A="_tasksTitle_1a1kr_1",S="_circle_1a1kr_20",B="_title_1a1kr_26",L="_icon_1a1kr_30",l={tasksTitle:A,circle:S,title:B,icon:L},$=i.memo(({color:e,name:o,handler:a,isExpand:n})=>s.jsxs("button",{onClick:a,className:l.tasksTitle,children:[s.jsx("div",{style:{backgroundColor:e},className:l.circle}),s.jsx("p",{className:l.title,children:o}),n?s.jsx(u,{className:l.icon}):s.jsx(T,{className:l.icon})]})),F="_boardView_1hmbk_1",H={boardView:F},I=()=>{const e=i.useMemo(()=>["todo","in progress","completed"],[]),o=i.useMemo(()=>e.map(()=>!0),[e]),[a,n]=i.useState(o),t=i.useCallback(r=>{n(c=>c.map((_,h)=>h===r?!_:_))},[]);return{stages:e,isExpandArray:a,setIsExpandArray:n,onTitleClickHandler:t}},R=[{name:"To do",stage:"todo",color:m.todo},{name:"In progress",stage:"in progress",color:m["in progress"]},{name:"Completed",stage:"completed",color:m.completed}],P=({tasks:e})=>{const{stages:o,isExpandArray:a,onTitleClickHandler:n}=I();return s.jsx("section",{className:H.boardView,children:o.map((t,r)=>s.jsxs(x.div,{initial:"hidden",whileInView:"visible",variants:k,viewport:{once:!0},children:[R.filter(c=>c.stage===t).map(c=>i.createElement($,{isExpand:a[r],handler:()=>n(r),...c,key:c.name})),s.jsx(M,{isExpand:a[r],stage:t,tasks:e})]},t))})},z="_header_1jrxi_1",D="_button_1jrxi_10",K="_tasksTitles_1jrxi_21",d={header:z,button:D,tasksTitles:K},U=()=>{const[e,o]=i.useState(1),a=i.useMemo(()=>[{id:1,title:"Board view",icon:s.jsx(j,{}),Component:P},{id:2,title:"List view",icon:s.jsx(b,{}),Component:E}],[]),n=i.useMemo(()=>{var t;return(t=a.find(r=>r.id===e))==null?void 0:t.Component},[e,a]);return s.jsxs("section",{className:d.tasksWrapper,children:[s.jsxs(x.header,{className:d.header,initial:"hidden",animate:"visible",variants:k,children:[s.jsx(N,{children:"Tasks"}),s.jsx(g,{className:d.button,children:"+ Create task"})]}),s.jsxs(x.main,{className:d.main,initial:"hidden",animate:"visible",variants:k,children:[s.jsx(w,{activeTab:e,setActiveTab:o,data:a}),s.jsx("div",{className:d.tasks,children:n?s.jsx(n,{tasks:v}):null})]})]})},Z=()=>s.jsx("section",{className:"tasks",children:s.jsx(U,{})});export{Z as default};
