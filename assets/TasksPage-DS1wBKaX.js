import{r as a,j as s,L as h,l as u,n as j,f as x,T as _,R as b,F as g,o as f,B as v,t as N}from"./index-D_pLHn6N.js";import{a as w}from"./index-3tNL_Dpm.js";import{T as C}from"./index-Blpgf-wx.js";import{u as M,T as V,L as E}from"./index-DtLqiDoM.js";import{m as T}from"./useTaskDetailHandler-CYbe7STf.js";import"./index-4a46P04U.js";import"./index-Cl5nAM8q.js";import"./transformToInputDateType-DiPkNHw2.js";import"./index-B3g5e5vR.js";import"./index-CFBtlz7A.js";import"./useSearch-BbYk5igb.js";const y="_stage_1nfip_1",L="_hide_1nfip_5",S="_content_1nfip_26",k={stage:y,hide:L,content:S},A=a.memo(({stage:e,tasks:r,isExpand:t})=>{const{isLoading:i,filteredTasks:n}=M({stage:e,tasks:r});return s.jsx("article",{className:`${k.stage} ${t?"":k.hide}`,children:s.jsx("div",{className:k.content,children:i?s.jsx(h,{}):n.map(o=>s.jsx(V,{task:o},o._id))})})}),$="_tasksTitle_1a1kr_1",B="_circle_1a1kr_20",H="_title_1a1kr_26",I="_icon_1a1kr_30",m={tasksTitle:$,circle:B,title:H,icon:I},F=a.memo(({color:e,name:r,handler:t,isExpand:i})=>s.jsxs("button",{onClick:t,className:m.tasksTitle,children:[s.jsx("div",{style:{backgroundColor:e},className:m.circle}),s.jsx("p",{className:m.title,children:r}),i?s.jsx(u,{className:m.icon}):s.jsx(j,{className:m.icon})]})),R="_boardView_1hmbk_1",O={boardView:R},P=()=>{const e=a.useMemo(()=>["todo","in progress","completed"],[]),r=a.useMemo(()=>e.map(()=>!0),[e]),[t,i]=a.useState(r),n=a.useCallback(o=>{i(c=>c.map((d,p)=>p===o?!d:d))},[]);return{stages:e,isExpandArray:t,setIsExpandArray:i,onTitleClickHandler:n}},z=[{name:"To do",stage:"todo",color:_.todo},{name:"In progress",stage:"in progress",color:_["in progress"]},{name:"Completed",stage:"completed",color:_.completed}],D=({tasks:e})=>{const{stages:r,isExpandArray:t,onTitleClickHandler:i}=P();return s.jsx("section",{className:O.boardView,children:r.map((n,o)=>s.jsxs(T.div,{initial:"hidden",whileInView:"visible",variants:x,viewport:{once:!0},children:[z.filter(c=>c.stage===n).map(c=>a.createElement(F,{isExpand:t[o],handler:()=>i(o),...c,key:c.name})),s.jsx(A,{isExpand:t[o],stage:n,tasks:e})]},n))})},K="_header_ti316_1",U="_button_ti316_10",W="_tasksTitles_ti316_21",Y="_addTaskModal_ti316_38",q="_hidden_ti316_44",l={header:K,button:U,tasksTitles:W,addTaskModal:Y,hidden:q},G=()=>{const[e,r]=a.useState(1),[t,i]=a.useState(!1),n=a.useMemo(()=>[{id:1,title:"Board view",icon:s.jsx(b,{}),Component:D},{id:2,title:"List view",icon:s.jsx(g,{}),Component:E}],[]),o=a.useMemo(()=>{var d;return(d=n.find(p=>p.id===e))==null?void 0:d.Component},[e,n]),c=a.useCallback(()=>{},[]);return s.jsxs("section",{className:l.tasksWrapper,children:[s.jsxs(T.header,{className:l.header,initial:"hidden",animate:"visible",variants:x,children:[s.jsx(f,{children:"Tasks"}),s.jsx(v,{onClick:()=>i(!0),className:l.button,children:"+ Create task"})]}),t&&s.jsx(w,{changedValue:t,className:`${t?"":l.hidden} ${l.addTaskModal}`,onSubmit:c,onClose:()=>i(!1)}),s.jsxs(T.main,{className:l.main,initial:"hidden",animate:"visible",variants:x,children:[s.jsx(C,{activeTab:e,setActiveTab:r,data:n}),s.jsx("div",{className:l.tasks,children:o?s.jsx(o,{tasks:N}):null})]})]})},rs=()=>s.jsx("section",{className:"tasks",children:s.jsx(G,{})});export{rs as default};
