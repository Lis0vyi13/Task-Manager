import{r as n,x,y as u,J as A,j as a,z as h,o as j,I as i,A as f}from"./index-DmyOLR6c.js";import{t as v}from"./transformToInputDateType-vFODG96a.js";import{S}from"./index-B4PSuuz7.js";const m=[{value:!0,label:"Active"},{value:!1,label:"Disabled"}],q=({user:e})=>{const t=n.useMemo(()=>({name:(e==null?void 0:e.name)||"",role:(e==null?void 0:e.role)||"",email:(e==null?void 0:e.email)||"",status:(e==null?void 0:e.isActive)!==""?m==null?void 0:m.find(l=>l.value===e.isActive):"",createdAt:e!=null&&e.createdAt?v(e.createdAt):""}),[e.createdAt,e==null?void 0:e.email,e.isActive,e==null?void 0:e.name,e==null?void 0:e.role]),{handleSubmit:d,reset:o,control:s}=x({mode:"onChange",defaultValues:t});return{handleSubmit:d,reset:o,control:s,selectStatusOptions:m}},E="_modal_1fz7w_1",g={modal:E},C=n.memo(({user:e,onClose:t,changedValue:d})=>{const{handleSubmit:o,reset:s,control:l,selectStatusOptions:p}=q({user:e}),{onSubmitHandler:c}=u({onClose:t,reset:s}),r=n.useCallback(b=>{c(b),A.success("Changed successfull")},[c]);return a.jsx(h,{onSubmit:o(r),onClose:t,changedValue:d,noCross:!0,children:a.jsxs("section",{className:`modalWrapper ${g.modal}`,children:[a.jsx(j,{className:"modalTitle",children:"Edit user"}),a.jsxs("form",{onSubmit:o(r),children:[a.jsx(i,{disabled:!0,name:"name",control:l,label:"Full name",rules:{required:"Full name is required!"},placeholder:"Your full name"}),a.jsx(i,{name:"role",control:l,label:"Role",rules:{required:"Role is required!"},placeholder:"User role"}),a.jsx(i,{name:"email",control:l,label:"Email",rules:{required:{value:!0,message:"Email is required"},pattern:{value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,message:"Invalid email address"}},placeholder:"example@gmail.com",type:"email",autoComplete:"email"}),a.jsx(S,{name:"status",control:l,label:"Status",rules:{required:"User status"},placeholder:"Status...",options:p}),a.jsx(i,{disabled:!0,name:"createdAt",control:l,label:"Created at",type:"date",rules:{required:"Date is required"}}),a.jsx(f,{onClose:t})]})]})})});export{C as E};
