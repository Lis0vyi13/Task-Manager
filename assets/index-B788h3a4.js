import{r as s,v as b,j as e}from"./index-BTjrKWUg.js";import{t as p,a as x,I as o,S as j}from"./transformToInputDateType-Q6j9lJDJ.js";import{M as u,T as A}from"./index-D6y65vRu.js";import{M as h}from"./index-B-c8I1OG.js";const v=({user:a,selectOptions:l})=>{const d=s.useMemo(()=>({name:(a==null?void 0:a.name)||"",role:(a==null?void 0:a.role)||"",email:(a==null?void 0:a.email)||"",status:(a==null?void 0:a.isActive)!==""?l==null?void 0:l.find(n=>n.value===a.isActive):"",createdAt:a!=null&&a.createdAt?p(a.createdAt):""}),[l,a.createdAt,a==null?void 0:a.email,a.isActive,a==null?void 0:a.name,a==null?void 0:a.role]),{handleSubmit:m,reset:r,control:i}=b({mode:"onChange",defaultValues:d}),t=s.useCallback(()=>{},[]);return{handleSubmit:m,reset:r,onSubmit:t,control:i}},c=[{value:!0,label:"Active"},{value:!1,label:"Disabled"}],M=({user:a,onClose:l,changedValue:d})=>{const{handleSubmit:m,reset:r,onSubmit:i,control:t}=v({user:a,selectStatusOptions:c}),{onSubmitHandler:n}=x({onClose:l,reset:r});return e.jsx(u,{onSubmit:i,onClose:l,changedValue:d,noCross:!0,children:e.jsxs("section",{className:"modalWrapper",children:[e.jsx(A,{className:"modalTitle",children:"Edit user"}),e.jsxs("form",{onSubmit:m(n),children:[e.jsx(o,{disabled:!0,name:"name",control:t,label:"Full name",rules:{required:"Full name is required!"},placeholder:"Your full name"}),e.jsx(o,{name:"role",control:t,label:"Role",rules:{required:"Role is required!"},placeholder:"User role"}),e.jsx(o,{name:"email",control:t,label:"Email",rules:{required:{value:!0,message:"Email is required"},pattern:{value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,message:"Invalid email address"}},placeholder:"User role",type:"email",autoComplete:"email"}),e.jsx(j,{name:"status",control:t,label:"Status",rules:{required:"User status"},placeholder:"Status...",options:c}),e.jsx(o,{disabled:!0,name:"createdAt",control:t,label:"Created at",type:"date",rules:{required:"Date is required"}}),e.jsx(h,{onSubmit:i,onClose:l})]})]})})};export{M as E};
